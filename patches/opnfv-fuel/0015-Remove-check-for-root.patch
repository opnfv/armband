From: Josep Puigdemont <josep.puigdemont@enea.com>
Date: Wed, 4 May 2016 14:27:23 +0200
Subject: [PATCH] Remove check for root

---
 ci/deploy.sh                        | 5 -----
 deploy/deploy-config.py             | 1 -
 deploy/deploy.py                    | 2 --
 deploy/environments/virtual_fuel.py | 2 --
 4 files changed, 10 deletions(-)

diff --git a/ci/deploy.sh b/ci/deploy.sh
index dc13f1c..343d499 100755
--- a/ci/deploy.sh
+++ b/ci/deploy.sh
@@ -193,11 +193,6 @@ do
     esac
 done
 
-if [[ $EUID -ne 0 ]]; then
-    echo "This script must be run as root" 1>&2
-    exit 1
-fi
-
 if [ -z $BASE_CONFIG_URI ] || [ -z $TARGET_LAB ] || \
    [ -z $TARGET_POD ] || [ -z $DEPLOY_SCENARIO ] || \
    [ -z $ISO ]; then
diff --git a/deploy/deploy-config.py b/deploy/deploy-config.py
index 65d51b2..88a1111 100644
--- a/deploy/deploy-config.py
+++ b/deploy/deploy-config.py
@@ -40,7 +40,6 @@ from common import (
     check_file_exists,
     create_dir_if_not_exists,
     delete,
-    check_if_root,
     ArgParser,
 )
 
diff --git a/deploy/deploy.py b/deploy/deploy.py
index 9f45853..dd48278 100644
--- a/deploy/deploy.py
+++ b/deploy/deploy.py
@@ -32,7 +32,6 @@ from common import (
     check_file_exists,
     create_dir_if_not_exists,
     delete,
-    check_if_root,
     ArgParser,
 )
 
@@ -230,7 +229,6 @@ class AutoDeploy(object):
         return 0
 
     def run(self):
-        check_if_root()
         if self.cleanup_only:
             self.cleanup_execution_environment()
         else:
diff --git a/deploy/environments/virtual_fuel.py b/deploy/environments/virtual_fuel.py
index 56d6f98..f07207f 100644
--- a/deploy/environments/virtual_fuel.py
+++ b/deploy/environments/virtual_fuel.py
@@ -17,7 +17,6 @@ import re
 from common import (
     exec_cmd,
     check_file_exists,
-    check_if_root,
     delete,
     log,
 )
@@ -114,7 +113,6 @@ class VirtualFuel(ExecutionEnvironment):
                        vm_definition_overwrite)
 
     def setup_environment(self):
-        check_if_root()
         self.cleanup_environment()
         self.create_vm()
 
